(function(d){function g(){return function(a){return new Date-a}}function i(a){var b,e;a=a/1E3;b=Math.floor(a%60);a/=60;e=Math.floor(a%60);a/=60;return[(Math.floor(a%24)<10?"0":"")+Math.floor(a%24),(e<10?"0":"")+e,(b<10?"0":"")+b].join(":")}var f={init:function(a){var b={updateInterval:1E3,startTime:0,formatter:i};a&&d.extend(b,a);return this.each(function(){var e=d(this),c=e.data("stopwatch");if(!c){c=b;c.target=e;c.elapsed=b.startTime;c.incrementer=g();c.tick_function=function(){var h=c.incrementer(c.startTime);
c.elapsed=h;c.target.trigger("tick.stopwatch",[h]);c.target.stopwatch("render")};e.data("stopwatch",c)}})},start:function(){return this.each(function(){var a=d(this),b=a.data("stopwatch");b.startTime=new Date;b.active=true;b.timerID=setInterval(b.tick_function,b.updateInterval);a.data("stopwatch",b)})},stop:function(){return this.each(function(){var a=d(this),b=a.data("stopwatch");clearInterval(b.timerID);b.active=false;a.data("stopwatch",b)})},destroy:function(){return this.each(function(){var a=
d(this);a.data("stopwatch");a.stopwatch("stop").unbind(".stopwatch").removeData("stopwatch")})},render:function(){var a=d(this),b=a.data("stopwatch");a.html(b.formatter(b.elapsed))},toggle:function(){return this.each(function(){var a=d(this);a.data("stopwatch").active?a.stopwatch("stop"):a.stopwatch("start")})},reset:function(){return this.each(function(){var a=d(this);data=a.data("stopwatch");data.incrementer=g(data.startTime,data.updateInterval);data.elapsed=data.startTime;a.data("stopwatch",data)})}};
d.fn.stopwatch=function(a){if(f[a])return f[a].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof a==="object"||!a)return f.init.apply(this,arguments);else d.error("Method "+a+" does not exist on jQuery.stopwatch")}})(jQuery);
